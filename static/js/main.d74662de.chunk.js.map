{"version":3,"sources":["assets/imgs/oms-960x340.jpg","components/layout/Navbar.js","components/layout/Footerx.js","components/BarList.js","components/Mapx.js","components/layout/Herox.js","pages/About.js","pages/NoMatch.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Navbar","state","burgerActive","toggleBurger","event","target","dataset","document","getElementById","_this","setState","react_default","a","createElement","className","role","style","backgroundColor","href","this","data-target","id","onClick","outline","tabIndex","title","Link","to","onChange","props","handleSearch","type","placeholder","Component","Footerx","textDecoration","BarList","padding","listClick","barMarkers","map","marker","visible","key","uuid","barData","venue","name","Mapx","_this$props","showListings","hideListings","toggleDrawing","zoomToArea","searchWithinTime","marginRight","borderTopRightRadius","borderBottomRightRadius","value","defaultValue","borderTopLeftRadius","borderBottomLeftRadius","BarList_BarList","Herox","class","src","OMS","alt","About","Fragment","Herox_Herox","gridTemplateColumns","NoMatch","margin","location","pathname","App","bars","bounds","davisMap","polygon","lat","lng","initMap","mapOpts","center","mapTypeControlOptions","mapTypeIds","zoom","window","google","maps","Map","LatLngBounds","barInfo","InfoWindow","drawingMngr","drawing","DrawingManager","drawingMode","OverlayType","POLYGON","drawingControl","drawingControlOptions","position","ControlPosition","TOP_LEFT","drawingModes","davisMapStyle","StyledMapType","elementType","stylers","color","featureType","visibility","mapTypes","set","setMapTypeId","bar","index","image","url","size","Size","origin","Point","anchor","Marker","animation","Animation","DROP","icon","shape","coords","zIndex","forEach","addListener","populateBarInfo","info","setContent","concat","address","open","barMakers","markerItem","getAnimation","setAnimation","BOUNCE","toLowerCase","includes","setMap","extend","fitBounds","handlePolygon","searchWithinPolygon","markers","i","length","geometry","poly","containsLocation","setDrawingMode","overlay","setEditable","getPath","console","log","geocoder","Geocoder","alert","geocodeOpts","componentRestrictions","locality","geocode","results","status","GeocoderStatus","OK","setCenter","setZoom","displayMarkersWithinTime","response","maxDuration","origins","originAddresses","destinations","destinationAddresses","rows","elements","j","element","distanceText","distance","text","duration","durationText","infoWindow","content","close","distanceMatrixService","DistanceMatrixService","destination","mode","getDistanceMatrix","travelMode","TravelMode","unitSystem","UnitSystem","IMPERIAL","DistanceMatrixStatus","loadScript","indexjs","getElementsByTagName","script","async","defer","parentNode","insertBefore","loadMap","join","loadData","params","client_id","client_secret","v","ll","section","axios","get","URLSearchParams","then","data","groups","items","catch","error","loadDetails","theUrl","barDetails","_this2","BrowserRouter","basename","Navbar_Navbar","Switch","Route","exact","path","render","Mapx_Mapx","component","NoMatch_NoMatch","Object","assign","theLocation","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","src_App","URL","process","addEventListener","fetch","contentType","headers","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d74662de.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/oms-960x340.e7283396.jpg\";","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Navbar extends Component {\r\n\r\n\tstate = {\r\n\t\tburgerActive: false,\r\n\t}\r\n\r\n\ttoggleBurger = (event) => {\r\n\t\t// This seems roundabout, but it allows you to target multiple burger menus at the same time without knowing the specific id. The target here is the id targeted by the data-target attribute on the burger element\r\n\t\tconst target = event.target.dataset.target;\r\n\t\t// And this is the element with that id\r\n\t\tconst $target = document.getElementById(target);\r\n\t\t// Now set state on the burgerActive flag to be opposite whatever it currently is (that's the toggle part)\r\n\t\tthis.setState({burgerActive: !this.state.burgerActive,});\r\n\t\t// We toggle the classes in the attributes \r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t// Bulma.io's suggested navbar structure with some inspiration from Daniel Supernault's 'Band' theme and my own edits to make it React-friendly\r\n\t\t\t<nav className=\"navbar is-dark\" role=\"navigation\" style={{backgroundColor: \"#242f3e\"}}>\r\n\t\t\t\t<div className=\"navbar-brand\">\r\n\t\t\t\t\t<a className=\"navbar-item is-size-1 has-text-white\" href=\"/\">\r\n\t\t\t\t\t\tThe Bars of Davis Square\r\n\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t<div \r\n\t\t\t\t\t\tclassName= {this.state.burgerActive ? \"navbar-burger is-active\" : \"navbar-burger\"} \r\n\t\t\t\t\t\tdata-target=\"navbarMenu\" \r\n\t\t\t\t\t\tid=\"burgerButton\"\r\n\t\t\t\t\t\tonClick={this.toggleBurger}\r\n\t\t\t\t\t\trole=\"button\" \r\n\t\t\t\t\t\tstyle={{outline: \"none\"}}\r\n\t\t\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\t\t\ttitle=\"Hamburger menu button\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"navbarMenu\" className= {this.state.burgerActive ? \"navbar-menu is-active\" : \"navbar-menu\"}>\r\n\t\t\t\t\t<div className=\"navbar-start\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"navbar-end\">\r\n\t\t\t\t\t\t<Link className=\"navbar-item has-text-white\" to=\"/\">Home</Link>\r\n\t\t\t\t\t\t<Link className=\"navbar-item has-text-white\" to=\"/about\">About</Link>\r\n\t\t\t\t\t\t<div className=\"navbar-item\">\r\n\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t\t<input className=\"input\" onChange={this.props.handleSearch} title=\"Enter the name of a bar to filter Davis Square Area bars. Only bars containing the search term will appear in the list of venues and in the map.\" type=\"text\" placeholder=\"find a bar\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n","import React from 'react';\n\nexport default function Footerx() {\n\treturn (\n\t\t<footer className=\"footer\">\n\t\t\t<div className=\"content has-text-centered\">\n\t\t\t\t<p>\n\t\t\t\t\t<strong>The Bars of Davis Square</strong> by <a style={{textDecoration:\"underline\"}} href=\"https://github.com/julianjohannesen\" title=\"My GitHub page\">Julian Johannesen</a>.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</footer>\n\t)\n}\n","import React, { Component } from 'react';\r\nimport uuid from 'uuid/v4';\r\n\r\nexport default class BarList extends Component {\r\n    render() {\r\n        return (\r\n            <section id=\"list\" className=\"section\" style={{ padding: \"0\", }}>\r\n                <h2 className=\"heading is-size-4\">Local Bars</h2>\r\n                <ul className=\"menu-list\" id=\"listUl\" onClick={this.props.listClick} >\r\n                    {this.props.barMarkers.map((marker) => {\r\n                        return marker.visible ? (\r\n                            <li className=\"menu-item\" key={uuid()} >\r\n                                <h3 id={marker.barData.venue.id}>{marker.barData.venue.name}</h3>\r\n                            </li>\r\n                        ) : null;\r\n                    })}\r\n\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport BarList from './BarList.js';\r\n\r\nexport default class Mapx extends Component {\r\n\r\n\trender() {\r\n\t\t// removed barDetails\r\n\t\tconst {barMarkers, showListings, hideListings, toggleDrawing, zoomToArea, searchWithinTime} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<main id=\"main\">\r\n\t\t\t\t<section id=\"tools\">\r\n\t\t\t\t\t<div className=\"form-container\">\r\n\t\t\t\t\t\t<div className=\"field has-addons\" style={{ marginRight: \"1em\" }}>\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<button className=\"button\" id=\"show-listings\" title=\"Show all venues in Davis Square in list view and on map\" onClick={showListings} >Show</button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<button className=\"button\" id=\"hide-listings\" title=\"Hide all venues from list view and map\" onClick={hideListings} >Hide</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"field\" style={{ marginRight: \"1em\" }}>\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<button className=\"button\" id=\"toggle-drawing\" title=\"Show drawing tools on map.\" onClick={toggleDrawing} >Drawing Tools</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"field has-addons\" style={{ marginRight: \"1em\" }}>\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<input className=\"input\" id=\"zoom-to-area-text\" title=\"Enter a street address and click zoom to zoom to area\" type=\"text\" placeholder=\"Enter street address\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<button className=\"button\" id=\"zoom-to-area\" title=\"After entering an address, click here to zoom to area\" onClick={zoomToArea} >Zoom</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<p className=\"text text-margin\">Within a </p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"field has-addons\">\r\n\t\t\t\t\t\t\t<div className=\"select control\">\r\n\t\t\t\t\t\t\t\t<select className=\"\" id=\"max-duration\" title=\"Select a length of time you are willing to travel in minutes.\" style={{ borderTopRightRadius: \"0\", borderBottomRightRadius: \"0\" }}>\r\n\t\t\t\t\t\t\t\t\t<option value=\"10\">10 min</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"15\">15 min</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"30\">30 min</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"60\">1 hour</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"select control\">\r\n\t\t\t\t\t\t\t\t<select className=\"\" defaultValue=\"WALKING\" id=\"mode\" title=\"Select a mode of travel.\" style={{ borderTopLeftRadius: \"0\", borderBottomLeftRadius: \"0\" }}>\r\n\t\t\t\t\t\t\t\t\t<option value=\"DRIVING\">drive</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"WALKING\">walk</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"BICYCLING\">bike</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"TRANSIT\">transit</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<p className=\"text text-margin\"> of </p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"field has-addons\">\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<input className=\"input\" id=\"search-within-time-text\" title=\"After selecting a length of time and mode of travel, enter a starting address to find venues that can reached in the time indicated, by the mode of travel indicated, and then click on the 'Go' button.\" type=\"text\" placeholder=\"Enter street address\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<button className=\"button\" id=\"search-within-time\" title=\"After entering a starting address, click here to filter Davis Square bars by distance by mode of travel.\" onClick={searchWithinTime} >Go</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t\t\r\n\t\t\t\t<BarList \r\n\t\t\t\t\t// barDetails={barDetails}\r\n\t\t\t\t\tbarMarkers={barMarkers} \r\n\t\t\t\t\tlistClick={this.props.listClick}\r\n\t\t\t\t/>\r\n\t\t\t\t<section className=\"\" id=\"map\">\r\n\t\t\t\t</section>\r\n\t\t\t\t\r\n\t\t\t</main>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport OMS from '../../assets/imgs/oms-960x340.jpg';\r\n\r\nexport default class Herox extends Component {\r\n  render() {\r\n    return (\r\n        <section class=\"hero\">\r\n            <figure class=\"image\">\r\n                <img src={OMS} alt=\"Olde Magoun's Saloon on a packed night.\" />\r\n            </figure>\r\n        </section>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Herox from '../components/layout/Herox.js';\r\n\r\n\r\nexport default class About extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Herox />\r\n\t\t\t\t<main className=\"section\" style={{gridTemplateColumns:\"1fr\"}}>\r\n\t\t\t\t\t<h2 className=\"heading is-size-3\">What is this?</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p className=\"text\">The Bars of Davis Square is a loving tribute to the bars, pubs, breweries, and etc. in and around Davis Square, Somerville.</p>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p className=\"text\">Users can enter the name of a bar in the search box at the top right of the page to find a specific bar or they can use the map tools to (1) find bars in an area of their choosing, (2) zoom in on a particular area, or (3) find all of the bars within walking distance of a particular address.</p>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h2 className=\"heading is-size-3\">Implementation details</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p className=\"text\">The Bars of Davis Square was created using React and Bulma CSS. The information that appears on the map and the map itself are made possible by FourSquare's API and  Google's Google Maps JavaScript API. The application first fetches a list of Davis Square area bars from FourSquare's API, and, after setting state to capture the response data, calls a function that fetches and loads our map. Map markers are generated and assigned to each venue returned by FourSquare and a single Info Window instance is populated with the relevant information whenever a user clicks on a marker. The drawing tools, zoom functionality, and search-within-time-by-mode functionality are accomplished with the Google Maps API.</p>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h2 className=\"heading is-size-3\">Thanks</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p className=\"text\">I'd like to thank Yahya Elharony for his series of tutorials on using the FourSquare and Google Maps APIs together.</p>\r\n\t\t\t\t</main>\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class NoMatch extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div style={{margin: \"2em\"}}>\r\n                <h3>\r\n                    The URL you entered (<code>{this.props.location.pathname}</code>) was not found.\r\n                </h3>\r\n                <Link to=\"/\" >Home</Link>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport 'assets/css/App.css';\nimport axios from 'axios';\nimport Navbar from './components/layout/Navbar.js';\nimport Footerx from './components/layout/Footerx.js';\nimport Mapx from './components/Mapx.js';\nimport About from './pages/About';\nimport NoMatch from './pages/NoMatch';\n\nclass App extends Component {\n\n\tstate = {\n\t\tbars: [\n\t\t\t// A sample\n\t\t\t// 0: {\n\t\t\t//   venue: {\n\t\t\t//\t\tcategories: []\n\t\t\t//\t\tid: asdf\n\t\t\t//      location: {\n\t\t\t//\t\t\taddress: \"518 Medford St\"\n\t\t\t//\t\t\tcc:\"US\"\n\t\t\t//\t\t\tcity:\"Somerville\"\n\t\t\t//\t\t\tcountry:\"United States\"\n\t\t\t//\t\t\tdistance:67\n\t\t\t//\t\t\tformattedAddress: Array[3]\n\t\t\t//\t\t\tlabeledLatLngs:Array[1]\n\t\t\t//\t\t\tlat:42.396805429907445\n\t\t\t//\t\t\tlng:-71.10399688926768\n\t\t\t//\t\t\tpostalCode:\"02145\"\n\t\t\t//\t\t\tstate:\"MA\"\n\t\t\t//\t\t},\n\t\t\t//\t\tname: \"Olde Magoun Saloon\",\n\t\t\t//\t\tphotos: {},\n\t\t\t//\t\tvenuepage: {}\n\t\t\t//   }\t\t\n\t\t\t// }\n\t\t],\n\t\t//barDetails: []\n\t\tbarMarkers: [],\n\t\tbounds: {},\n\t\tdavisMap: {},\n\t\tpolygon: [],\n\t}\n\n\t// Davis Square lat long\n\tlat = 42.396365;\n\tlng = -71.122262;\n\n\tinitMap = () => {\n\t\t\n\t\t// mapOpts contains our map options\n\t\tconst mapOpts = {\n\t\t\tcenter: { \"lat\": this.lat, \"lng\": this.lng },\n\t\t\tmapTypeControlOptions: {\n\t\t\t\tmapTypeIds: ['styled_davisMap', 'roadmap',]\n\t\t\t},\n\t\t\tzoom: 16,\n\t\t}\n\t\t// Create the map, bounds, info window, and drawing manager instances\n\t\tthis.setState({\n\t\t\tdavisMap: new window.google.maps.Map(document.getElementById(\"map\"), mapOpts),\n\t\t\tbounds: new window.google.maps.LatLngBounds(),\n\t\t\tbarInfo: new window.google.maps.InfoWindow(),\n\t\t\tdrawingMngr: new window.google.maps.drawing.DrawingManager({\n\t\t\t\tdrawingMode: window.google.maps.drawing.OverlayType.POLYGON,\n\t\t\t\tdrawingControl: true,\n\t\t\t\tdrawingControlOptions: {\n\t\t\t\t\tposition: window.google.maps.ControlPosition.TOP_LEFT,\n\t\t\t\t\tdrawingModes: [window.google.maps.drawing.OverlayType.POLYGON],\n\t\t\t\t},\n\t\t\t}),\n\t\t});\n\n\t\t// Create a custom style instance and set our map type and map type ID.\n\t\tconst davisMapStyle = new window.google.maps.StyledMapType([\n\t\t\t{ elementType: 'geometry', stylers: [{ color: '#242f3e' }] },\n\t\t\t{ elementType: 'labels.text.stroke', stylers: [{ color: '#242f3e' }] },\n\t\t\t{ elementType: 'labels.text.fill', stylers: [{ color: '#746855' }] },\n\t\t\t{\n\t\t\t\tfeatureType: 'administrative.locality',\n\t\t\t\telementType: 'labels.text.fill',\n\t\t\t\tstylers: [{ color: '#d59563' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'poi',\n\t\t\t\telementType: 'labels.text.fill',\n\t\t\t\tstylers: [{ color: '#d59563' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'poi.business',\n\t\t\t\tstylers: [{ visibility: 'off' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'poi.park',\n\t\t\t\telementType: 'geometry',\n\t\t\t\tstylers: [{ color: '#263c3f' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'poi.park',\n\t\t\t\telementType: 'labels.text.fill',\n\t\t\t\tstylers: [{ color: '#6b9a76' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Turn off all Points of Interest\n\t\t\t\t\"featureType\": \"poi\",\n\t\t\t\t\"elementType\": \"all\",\n\t\t\t\t\"stylers\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'road',\n\t\t\t\telementType: 'geometry',\n\t\t\t\tstylers: [{ color: '#38414e' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'road',\n\t\t\t\telementType: 'geometry.stroke',\n\t\t\t\tstylers: [{ color: '#212a37' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'road',\n\t\t\t\telementType: 'labels.text.fill',\n\t\t\t\tstylers: [{ color: '#9ca5b3' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'road.highway',\n\t\t\t\telementType: 'geometry',\n\t\t\t\tstylers: [{ color: '#746855' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'road.highway',\n\t\t\t\telementType: 'geometry.stroke',\n\t\t\t\tstylers: [{ color: '#1f2835' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'road.highway',\n\t\t\t\telementType: 'labels.text.fill',\n\t\t\t\tstylers: [{ color: '#f3d19c' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'transit',\n\t\t\t\telementType: 'geometry',\n\t\t\t\tstylers: [{ color: '#2f3948' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'transit.station',\n\t\t\t\telementType: 'labels.text.fill',\n\t\t\t\tstylers: [{ color: '#d59563' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'water',\n\t\t\t\telementType: 'geometry',\n\t\t\t\tstylers: [{ color: '#17263c' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'water',\n\t\t\t\telementType: 'labels.text.fill',\n\t\t\t\tstylers: [{ color: '#515c6d' }]\n\t\t\t},\n\t\t\t{\n\t\t\t\tfeatureType: 'water',\n\t\t\t\telementType: 'labels.text.stroke',\n\t\t\t\tstylers: [{ color: '#17263c' }]\n\t\t\t}\n\t\t],\n\t\t\t{ name: \"Night Mode\" });\n\t\t// We're adjusting the map state without notifying React. We should be setting state. Not sure how yet.\n\t\tthis.state.davisMap.mapTypes.set('styled_davisMap', davisMapStyle);\n\t\tthis.state.davisMap.setMapTypeId('styled_davisMap');\n\n\t\t// TODO: Need to find a way to create color for default and highlighted marker icons\n\n\t\t// Map over our data and create a marker for each bar datum.\n\t\t// see https://developers.google.com/maps/documentation/javascript/reference/marker\n\t\tthis.setState({\n\t\t\tbarMarkers: this.state.bars.map((bar, index) => {\n\n\t\t\t\tconst image = {\n\t\t\t\t\turl: 'https://maps.google.com/mapfiles/ms/micons/bar.png',\n\t\t\t\t\tsize: new window.google.maps.Size(32, 32),\n\t\t\t\t\torigin: new window.google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new window.google.maps.Point(16, 32),\n\t\t\t\t\t//scaledSize: new window.google.maps.Size(16, 16)\n\t\t\t\t};\n\t\t\t\tconst shape = {\n\t\t\t\t\tcoords: [1, 1, 1, 32, 16, 32, 16, 1],\n\t\t\t\t\ttype: 'poly'\n\t\t\t\t};\n\n\t\t\t\treturn new window.google.maps.Marker({\n\t\t\t\t\tanimation: window.google.maps.Animation.DROP,\n\t\t\t\t\tbarData: bar,\n\t\t\t\t\ticon: image,\n\t\t\t\t\tid: index,\n\t\t\t\t\tmap: this.state.davisMap,\n\t\t\t\t\tposition: { lat: bar.venue.location.lat, lng: bar.venue.location.lng },\n\t\t\t\t\tshape: shape,\n\t\t\t\t\ttitle: bar.venue.name,\n\t\t\t\t\tvisible: true,\n\t\t\t\t\tzIndex: 10 + index,\n\t\t\t\t})\n\t\t\t})\n\t\t});\n\n\t\t// For each bar marker, add a click listener to populate the info window with the appropriate information. Also add mouse event listeners to toggle the icon color\n\t\t// Changing state here by adding listeners, but using the Google Maps API's addListener to add map listeners. How do you notify react of this change?\n\t\tthis.state.barMarkers.forEach((marker, index) => {\n\t\t\tmarker.addListener(\"click\", () => this.populateBarInfo(this.state.barInfo, marker, this.state.davisMap));\n\n\t\t\t//marker.addListener('mouseover', () => marker.setIcon(highlightedIcon));\n\t\t\t//marker.addListener('mouseout', () => marker.setIcon(defaultIcon));\n\t\t});\n\t}\n\n\t// Create an info window instance and a function to populate the info window with the approriate information, e.g. the name of the bar, and to open the window. Also add a \"closeclick\" listener to empty the info window and prepare it for the next time it will be used.\n\t// see https://developers.google.com/maps/documentation/javascript/reference/info-window\n\tpopulateBarInfo = (info, marker, map) => {\n\t\tconst updateInfoWin = () => {\n\t\t\tinfo.marker = marker;\n\t\t\tinfo.setContent(`<h3>${marker.title}</h3><p>${marker.barData.venue.location.address}</p>`);\n\t\t\tinfo.open(map, marker);\n\t\t\tinfo.addListener(\"closeclick\", () => info.marker = null);\n\t\t\treturn info;\n\t\t}\n\t\tconst toggleBounce = () => {\n\t\t\tif (marker.getAnimation() !== null) {\n\t\t\t\tmarker.setAnimation(null);\n\t\t\t} else {\n\t\t\t\tmarker.setAnimation(window.google.maps.Animation.BOUNCE);\n\t\t\t}\n\t\t}\n\t\tif (info !== marker) {\n\t\t\tthis.setState({\n\t\t\t\tbarInfo: updateInfoWin(),\n\t\t\t\tbarMakers: this.state.barMarkers.map( (markerItem) => {\n\t\t\t\t\tif(markerItem.barData.id === marker.barData.id){\n\t\t\t\t\t\tmarkerItem.animation = toggleBounce();\n\t\t\t\t\t\treturn marker\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn marker\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t});\n\t\t}\n\t}\n\n\t///////////////\n\t// MAP Tools //\n\t///////////////\n\n\t// handleSearch fires on change to the search input and attempts to match any word entered to a word in venue name, toggling the visible property for that venue's marker to true.\n\thandleSearch = (event) => {\n\t\t// Set the state of barMarkers to show matching bars and hide non-matching bars using marker.visible\n\t\tthis.setState({\n\t\t\t// Loop through each marker and examine the venue name. If the venue name partially or completely matches the search term, then set that marker's visible property to true. If there's no match, then set it to false.\n\t\t\tbarMarkers: this.state.barMarkers.map((marker) => {\n\t\t\t\tlet atLeastOne = false;\n\t\t\t\tif (marker.barData.venue.name.toLowerCase().includes(event.target.value.toLowerCase())) {\n\t\t\t\t\tmarker.visible = true;\n\t\t\t\t\tatLeastOne = true;\n\t\t\t\t} else {\n\t\t\t\t\tmarker.visible= false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn marker;\n\t\t\t}),\n\t\t});\n\t}\n\n\t// A function to show our bar markers on the click of a button. We can do this by setting the map property of each marker and extending the bounds of our map to ensure that our map encompasses all of our markers.\n\tshowListings = () => {\n\t\tthis.setState({\n\t\t\tbarMarkers: this.state.barMarkers.map(marker => {\n\t\t\t\tmarker.setMap(this.state.davisMap);\n\t\t\t\tthis.state.bounds.extend(marker.position);\n\t\t\t\t// A flag I added to enable the venue list view functionality\n\t\t\t\tmarker.visible = true;\n\t\t\t\treturn marker;\n\t\t\t}),\n\t\t})\n\t\t// Changing state without notifying react. I tried including this in setState setting the state on davisMap to the result of an anonymous function that fitbounds and then returned the map, but I got some errors I couldn't resolve. \n\t\tthis.state.davisMap.fitBounds(this.state.bounds);\n\t}\n\n\t// A function to hide our bar markers by setting the map property back to null.\n\thideListings = () => this.setState({\n\t\tbarMarkers: this.state.barMarkers.map(marker => {\n\t\t\tmarker.setMap(null);\n\t\t\tmarker.visible = false;\n\t\t\treturn marker;\n\t\t}),\n\t})\n\n\t/* \n\thandlePolygon shows only markers that are within a polgyon.\n\t\n\tFirst, if there is already a polgyon on the map, handlePolgyon removes it and all of the map markers from the map. It then sets the drawing mode to null. This will set the cursor to non-drawing mode.\n\t\n\tWe then overwrite the polygon with event.overlay.\n\n\tNext, we call searchWithinPolygon, passing in the barMarkers array. This will add back to the map just the markers that are within the polygon.\n\n\tsearchWithinPolygon takes an array of markers and loops through those markers performing a check (with containsLocation) on each marker to see if it is within the polygon. If the answer is yes, then that marker is added to the map. If the answer is no, then that marker is removed from the map. This involves changing the markers state.\n\n\tFinally, we also need to add listeners for the events that fire when the polygon is edited and call searchWithinPolgyon when that happens. The listeners are set on the array of LatLng objects that define any polygon, which we can get with getPath(). When the polygon is edited, i.e., when there's a change to the array of LatLng objects that define the polgyon, the set_at and insert_at events are fired. When those events fire, that's when we want to searchWithinPolgyon.\n\n\ttoggleDrawing will eventually add a listener to the drawing manager to call handlePolygon on the overlaycomplete event.\n\t*/\n\n\t// PROBLEMS: \n\t// 1. Editing the polygon by expanding it's boundaries does not show new new markers. I need to call the handle function on each edit.\n\t// 2. Old polygon's stick around when you draw a new one. At start of drawing, I need to clear previous polygons.\n\n\thandlePolygon = (event) => {\n\t\tconst searchWithinPolygon = (markers) => {\n\t\t\tthis.setState({\n\t\t\t\tbarMarkers: (() => {\n\t\t\t\t\tfor (let i = 0; i < markers.length; i++) {\n\t\t\t\t\t\tconst cL = window.google.maps.geometry.poly.containsLocation(markers[i].position, this.state.polygon);\n\t\t\t\t\t\tif (cL) {\n\t\t\t\t\t\t\tmarkers[i].setMap(this.state.davisMap);\n\t\t\t\t\t\t\tmarkers[i].visible = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmarkers[i].setMap(null);\n\t\t\t\t\t\t\tmarkers[i].visible = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn markers;\n\t\t\t\t})(),\n\t\t\t});\n\t\t}\n\n\t\tif (this.state.polygon.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\tpolygon: (() => {\n\t\t\t\t\tthis.state.polygon.setMap(null);\n\t\t\t\t\treturn this.state.polygon;\n\t\t\t\t})(),\n\t\t\t})\n\t\t\tthis.hideListings();\n\t\t}\n\t\t// Changing drawingMngr's state without notifying react\n\t\tthis.state.drawingMngr.setDrawingMode(null);\n\t\tthis.setState({\n\t\t\tpolygon: (() => {\n\t\t\t\tevent.overlay.setEditable(true);\n\t\t\t\treturn event.overlay;\n\t\t\t})(),\n\t\t})\n\n\t\tsearchWithinPolygon(this.state.barMarkers);\n\n\t\tthis.state.polygon.getPath().addListener('set_at', searchWithinPolygon);\n\t\tthis.state.polygon.getPath().addListener('insert_at', searchWithinPolygon);\n\t}\n\n\t// A function to toggle the drawing controls on the map\n\ttoggleDrawing = () => {\n\t\tconsole.log(\"Here's the drawing manager object: \", this.state.drawingMngr)\n\t\tif (this.state.drawingMngr.map) {\n\t\t\tthis.state.drawingMngr.setMap(null);\n\t\t\tif (this.state.polygon) this.state.polygon.setMap(null);\n\t\t} else {\n\t\t\tthis.state.drawingMngr.setMap(this.state.davisMap);\n\t\t\tthis.state.drawingMngr.addListener('overlaycomplete', this.handlePolygon);\n\t\t}\n\t}\n\n\tzoomToArea = () => {\n\t\tconst geocoder = new window.google.maps.Geocoder();\n\t\tconst address = document.getElementById(\"zoom-to-area-text\").value;\n\t\tif (address === '') { window.alert(\"You must enter an area or address.\") }\n\t\telse {\n\t\t\tconst geocodeOpts = {\n\t\t\t\taddress: address,\n\t\t\t\tcomponentRestrictions: { locality: \"Somerville\" },\n\t\t\t};\n\t\t\tconst zoomTo = (results, status) => {\n\t\t\t\tif (status === window.google.maps.GeocoderStatus.OK) {\n\t\t\t\t\tthis.davisMap.setCenter(results[0].geometry.location);\n\t\t\t\t\tthis.davisMap.setZoom(18);\n\t\t\t\t} else {\n\t\t\t\t\twindow.alert(\"We could not find the location. Please try entering a more specific location.\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tgeocoder.geocode(geocodeOpts, zoomTo);\n\t\t}\n\t}\n\n\tdisplayMarkersWithinTime = (response) => {\n\t\tconst maxDuration = document.getElementById(\"max-duration\").value;\n\t\tconst origins = response.originAddresses;\n\t\tconst destinations = response.destinationAddresses;\n\t\tlet atLeastOne = false;\n\t\tfor (let i = 0; i < origins.length; i++) {\n\t\t\tconst results = response.rows[i].elements;\n\t\t\tfor (let j = 0; j < destinations.length; j++) {\n\t\t\t\tconst element = results[j];\n\t\t\t\tif (element.status === \"OK\") {\n\t\t\t\t\tconst distanceText = element.distance.text;\n\t\t\t\t\tconst duration = element.duration.value / 60;\n\t\t\t\t\tconst durationText = element.duration.text;\n\t\t\t\t\tif (duration <= maxDuration) {\n\t\t\t\t\t\tthis.barMarkers[i].setMap(this.davisMap);\n\t\t\t\t\t\tatLeastOne = true;\n\t\t\t\t\t\tconst infoWindow = new window.google.maps.InfoWindow({\n\t\t\t\t\t\t\tcontent: durationText + \" away \" + distanceText,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tinfoWindow.open(this.davisMap, this.barMarkers[i]);\n\t\t\t\t\t\tthis.barMarkers[i].infoWindow = infoWindow;\n\t\t\t\t\t\twindow.google.maps.event.addListener(this.barMarkers[i], \"click\", () => infoWindow.close());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// A function to search from an origin within a radius determined by time and mode of travel\n\tsearchWithinTime = () => {\n\t\tconst distanceMatrixService = new window.google.maps.DistanceMatrixService();\n\t\tconst address = document.getElementById(\"search-within-time-text\").value;\n\t\tif (address === \"\") {\n\t\t\twindow.alert(\"Please enter an address.\");\n\t\t} else {\n\t\t\tthis.hideListings();\n\t\t\tconst origins = [];\n\t\t\t// There's a limit of 25 origins/destinations per call, otherwise this line would include i < this.barMarkers.length, not i < 25\n\t\t\tfor (let i = 0; i < 25; i++) {\n\t\t\t\torigins[i] = this.barMarkers[i].position;\n\t\t\t}\n\t\t\tconst destination = address;\n\t\t\tconst mode = document.getElementById(\"mode\").value;\n\t\t\tdistanceMatrixService.getDistanceMatrix({\n\t\t\t\t// There's a limit of 25 origins and destinations per call\n\t\t\t\torigins: origins,\n\t\t\t\tdestinations: [destination],\n\t\t\t\ttravelMode: window.google.maps.TravelMode[mode],\n\t\t\t\tunitSystem: window.google.maps.UnitSystem.IMPERIAL,\n\t\t\t}, (response, status) => {\n\t\t\t\tif (status !== window.google.maps.DistanceMatrixStatus.OK) {\n\t\t\t\t\twindow.alert(\"Error has status\" + status);\n\t\t\t\t} else {\n\t\t\t\t\tthis.displayMarkersWithinTime(response);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// PROBLEMS: \n\t// 1. zooming on the map does not effect which venues are showing in the list view. On zoom, I need to update each marker's visible property.\n\tlistClick = (event) => {\n\t\tthis.state.barMarkers.forEach((marker) => {\n\t\t\tif (marker.barData.venue.id === event.target.id) {\n\t\t\t\tthis.populateBarInfo(this.state.barInfo, marker, this.state.davisMap)\n\t\t\t}\n\t\t});\n\t}\n\n\n\t////////////////////////////////////////////////\n\t// INSERT SCRIPT TAG AND LOAD GOOGLE MAPS API //\n\t////////////////////////////////////////////////\n\t// A function to load our google maps api script\n\tloadScript = (url) => {\n\t\tconst indexjs = window.document.getElementsByTagName(\"script\")[0];\n\t\tconst script = window.document.createElement(\"script\");\n\t\tscript.src = url;\n\t\tscript.async = true;\n\t\tscript.defer = true;\n\t\tindexjs.parentNode.insertBefore(script, indexjs);\n\t}\n\n\t// A function to load our map by calling loadScript with our URL details\n\tloadMap = () => {\n\t\tconsole.log(\"loadMap fired\")\n\t\tconst key = \"AIzaSyAKidTbGki0g1eG1laz79qvkDVLMYVxLOU\";\n\t\tconst libraries = [\"drawing\", \"geometry\", \"geocoder\"];\n\t\tconst version = \"3\";\n\t\t// Something I never would have figured out without Yahya, When the script loads, it will look in the window object for a function called initMap, so we need to assign window.initMap to our initMap function.\n\t\twindow.initMap = this.initMap\n\t\tthis.loadScript(`https://maps.googleapis.com/maps/api/js?key=${key}&libraries=${libraries.join(\",\")}&v=${version}&callback=initMap`);\n\n\t}\n\n\t////////////////////////////\n\t// FETCH FOUR SQUARE DATA //\n\t////////////////////////////\n\n\t// A function to fetch our FourSquare data using axios\n\tloadData = () => {\n\t\tconst endpoint = \"https://api.foursquare.com/v2/venues/explore?\";\n\t\tconst params = {\n\t\t\tclient_id: \"W5EAA4B3DHWV1ZLG3OATVOZYTYZNI5WWG0LRLPHBHVHC3JV3\",\n\t\t\tclient_secret: \"3ZTMTTP43WP4OXWOAKITGOYLIVPVW1NDQHPZ0I342VH4R5X0\",\n\t\t\tv: 20190117,\n\t\t\tll: `${this.lat},${this.lng}`,\n\t\t\tsection: \"drinks\",\n\t\t}\n\t\taxios.get(endpoint + new URLSearchParams(params))\n\t\t\t// One of the most useful things I learned in Yahya Elharony's tutorial video series was that we can supply an optional callback to setState that will execute after state is set. Here we load the map, only after successfully fetching our locations from FourSquare.\n\t\t\t.then((response) => this.setState({ bars: response.data.response.groups[0].items }, this.loadMap))\n\t\t\t.catch((error) => console.log(error));\n\t}\n\n\t// TODO: A function to fetch details for a bar. This won't work as is. It depends on the bar's FourSquare id, which you need to search for and find first. Only then can you get bar details. \n\t// NOTE: FourSquare's generosity only stretches so far, so I need to watch for status 429 - too many requests.\n\tloadDetails = (event) => {\n\t\tconst endpoint = \"https://api.foursquare.com/v2/venues/\";\n\t\tconst params = {\n\t\t\tclient_id: \"W5EAA4B3DHWV1ZLG3OATVOZYTYZNI5WWG0LRLPHBHVHC3JV3\",\n\t\t\tclient_secret: \"3ZTMTTP43WP4OXWOAKITGOYLIVPVW1NDQHPZ0I342VH4R5X0\",\n\t\t\tv: 20190117,\n\t\t}\n\n\t\tlet theId = event.target.venue.id + \"?\";\n\t\tlet urlParams = new URLSearchParams(params);\n\t\tlet theUrl = endpoint + theId + urlParams;\n\t\taxios.get(theUrl)\n\t\t\t.then((response) => {\n\t\t\t\t// I'm setting state for each bar detail item that's being fetched and that triggers a lot of unnecessary rerenders. What can I do about that?\n\t\t\t\tconsole.log(\"The URL was: \", theUrl, \"The successful response is: \", response)\n\t\t\t\tthis.setState({ barDetails: response.data.response.venue })\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t\tthis.loadMap();\n\t}\n\n\t// Call loadData (and thus loadMap), as soon as our component renders.\n\tcomponentDidMount() {\n\t\tthis.loadData();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Router basename=\"bars-of-davis\">\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<Navbar handleSearch={this.handleSearch} />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\" render={() => <Mapx\n\t\t\t\t\t\t\t// barDetails={this.state.barDetails}\n\t\t\t\t\t\t\tbarMarkers={this.state.barMarkers}\n\t\t\t\t\t\t\tshowListings={this.showListings}\n\t\t\t\t\t\t\thideListings={this.hideListings}\n\t\t\t\t\t\t\ttoggleDrawing={this.toggleDrawing}\n\t\t\t\t\t\t\tzoomToArea={this.zoomToArea}\n\t\t\t\t\t\t\tsearchWithinTime={this.searchWithinTime}\n\t\t\t\t\t\t\tlistClick={this.listClick}\n\t\t\t\t\t\t/>} />\n\t\t\t\t\t\t<Route exact path=\"/About\" component={About} />\n\t\t\t\t\t\t<Route render={props => <NoMatch {...props} theLocation={this.props.location} />} />\n\t\t\t\t\t</Switch>\n\t\t\t\t\t<Footerx />\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t)\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}